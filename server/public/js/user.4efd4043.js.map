{"version":3,"sources":["webpack:///./src/views/User.vue","webpack:///./src/views/User.vue?a29a"],"names":["class","href","$refs","sidenav","showSidenav","state","auth","$store","email","verifyStatus","to","adverts","item","key","id","title","dateCreated","boosted","type","disabled","boostAdvert","ref","name","components","NavHeader","NavFooter","Sidenav","data","beforeMount","this","$api","advertAll","user","then","response","bind","catch","error","console","methods","getDate","timestamp","date","Date","slice","getMonth","getFullYear","advertBoost","success","find","render"],"mappings":"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","file":"js/user.4efd4043.js","sourcesContent":["<template>\r\n  <div class=\"py-2 sticky-top bg-light-variant\">\r\n    <nav-header\r\n      v-on:query-input=\"\r\n        $router.push('/search?query=' + encodeURIComponent($event))\r\n      \"\r\n      v-on:more-click=\"$refs.sidenav.showSidenav()\"\r\n    />\r\n  </div>\r\n  <div class=\"flex-shrink-0\">\r\n    <div class=\"mb-3 py-3 container-lg\">\r\n      <h2>\r\n        <span\r\n          v-text=\"\r\n            $store.state.auth &&\r\n              $store.state.auth.firstName + ' ' + $store.state.auth.lastName\r\n          \"\r\n        ></span>\r\n      </h2>\r\n      <h4>\r\n        <span\r\n          class=\"badge\"\r\n          v-bind:class=\"\r\n            $store.state.auth.verifyStatus ? 'bg-success' : 'bg-danger'\r\n          \"\r\n          v-text=\"\r\n            $store.state.auth.verifyStatus\r\n              ? 'Email Verified'\r\n              : 'Email Not Verified'\r\n          \"\r\n        ></span>\r\n      </h4>\r\n      <p class=\"text-muted\">\r\n        <span v-text=\"$store.state.auth && $store.state.auth.email\"></span>\r\n      </p>\r\n      <div class=\"row g-2\">\r\n        <div class=\"col-lg-auto\">\r\n          <router-link\r\n            class=\"btn btn-primary\"\r\n            v-if=\"$store.state.auth.verifyStatus\"\r\n            to=\"/add\"\r\n          >\r\n            <span\r\n              v-html=\"\r\n                $octicons['plus'].toSVG({\r\n                  width: 16,\r\n                  height: 16,\r\n                  class: 'd-inline-block align-text-bottom'\r\n                })\r\n              \"\r\n            ></span>\r\n            <span class=\"ms-1\">Post an advertisement</span>\r\n          </router-link>\r\n          <a class=\"btn btn-primary\" v-else href=\"/api/auth/verify/request\">\r\n            <span\r\n              v-html=\"\r\n                $octicons['mail'].toSVG({\r\n                  width: 16,\r\n                  height: 16,\r\n                  class: 'd-inline-block align-text-bottom'\r\n                })\r\n              \"\r\n            ></span>\r\n            <span class=\"ms-1\">Verify email</span>\r\n          </a>\r\n        </div>\r\n        <div class=\"col-lg-auto\">\r\n          <router-link class=\"btn btn-primary\" to=\"/settings\">\r\n            <span\r\n              v-html=\"\r\n                $octicons['gear'].toSVG({\r\n                  width: 16,\r\n                  height: 16,\r\n                  class: 'd-inline-block align-text-bottom'\r\n                })\r\n              \"\r\n            ></span>\r\n            <span class=\"ms-1\">Settings</span>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n      <hr />\r\n      <h4 class=\"mb-3\">Posted Advertisements</h4>\r\n      <div class=\"card\">\r\n        <ul class=\"list-group list-group-flush\">\r\n          <li\r\n            class=\"list-group-item\"\r\n            v-for=\"item in adverts\"\r\n            v-bind:key=\"item.id\"\r\n          >\r\n            <div class=\"row g-1 align-items-center\">\r\n              <div class=\"col-lg\">\r\n                <h6 class=\"mb-0\" v-text=\"item.title\"></h6>\r\n                <span\r\n                  class=\"text-muted\"\r\n                  v-text=\"getDate(item.dateCreated)\"\r\n                ></span>\r\n              </div>\r\n              <div class=\"col-lg-auto\">\r\n                <div class=\"row g-2\">\r\n                  <div class=\"col-auto\">\r\n                    <button\r\n                      class=\"btn btn-sm btn-primary\"\r\n                      v-bind:class=\"item.boosted ? 'btn-light' : 'btn-primary'\"\r\n                      type=\"button\"\r\n                      v-bind:disabled=\"item.boosted\"\r\n                      v-on:click=\"boostAdvert(item.id)\"\r\n                    >\r\n                      <span\r\n                        v-html=\"\r\n                          $octicons['rocket'].toSVG({\r\n                            width: 16,\r\n                            height: 16,\r\n                            class: 'd-inline-block align-text-bottom'\r\n                          })\r\n                        \"\r\n                      ></span>\r\n                      <span\r\n                        class=\"ms-1\"\r\n                        v-text=\"item.boosted ? 'Boosting' : 'Boost'\"\r\n                      ></span>\r\n                    </button>\r\n                  </div>\r\n                  <div class=\"col-auto\">\r\n                    <router-link\r\n                      class=\"btn btn-sm btn-primary\"\r\n                      v-bind:to=\"'/item?id=' + item.id\"\r\n                    >\r\n                      <span\r\n                        v-html=\"\r\n                          $octicons['eye'].toSVG({\r\n                            width: 16,\r\n                            height: 16,\r\n                            class: 'd-inline-block align-text-bottom'\r\n                          })\r\n                        \"\r\n                      ></span>\r\n                      <span class=\"ms-1\">View</span>\r\n                    </router-link>\r\n                  </div>\r\n                  <div class=\"col-auto\">\r\n                    <router-link\r\n                      class=\"btn btn-sm btn-primary\"\r\n                      v-bind:to=\"'/edit?id=' + item.id\"\r\n                    >\r\n                      <span\r\n                        v-html=\"\r\n                          $octicons['pencil'].toSVG({\r\n                            width: 16,\r\n                            height: 16,\r\n                            class: 'd-inline-block align-text-bottom'\r\n                          })\r\n                        \"\r\n                      ></span>\r\n                      <span class=\"ms-1\">Edit</span>\r\n                    </router-link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"mt-auto\">\r\n    <nav-footer />\r\n  </div>\r\n  <sidenav ref=\"sidenav\" />\r\n</template>\r\n\r\n<script>\r\nimport NavHeader from \"../components/NavHeader.vue\";\r\nimport NavFooter from \"../components/NavFooter.vue\";\r\nimport Sidenav from \"../components/Sidenav.vue\";\r\n\r\nexport default {\r\n  name: \"User\",\r\n  components: {\r\n    NavHeader,\r\n    NavFooter,\r\n    Sidenav\r\n  },\r\n  data: function() {\r\n    return {\r\n      adverts: null\r\n    };\r\n  },\r\n  beforeMount: function() {\r\n    this.$api\r\n      .advertAll(\r\n        { user: this.$store.state.auth && this.$store.state.auth.id },\r\n        true\r\n      )\r\n      .then(\r\n        function(response) {\r\n          this.adverts = response.data;\r\n        }.bind(this)\r\n      )\r\n      .catch(\r\n        function(error) {\r\n          console.error(error);\r\n          this.adverts = null;\r\n        }.bind(this)\r\n      );\r\n  },\r\n  methods: {\r\n    getDate: function(timestamp) {\r\n      let date = new Date(timestamp * 1000);\r\n      return (\r\n        \"Created on: \" +\r\n        (\"0\" + date.getDate()).slice(-2) +\r\n        \"/\" +\r\n        (\"0\" + (date.getMonth() + 1)).slice(-2) +\r\n        \"/\" +\r\n        date.getFullYear()\r\n      );\r\n    },\r\n    boostAdvert: function(id) {\r\n      this.$api\r\n        .advertBoost(id)\r\n        .then(\r\n          function(response) {\r\n            if (response.data.success) {\r\n              this.adverts.find(function(item) {\r\n                return item.id == id;\r\n              }).boosted = 1;\r\n            }\r\n          }.bind(this)\r\n        )\r\n        .catch(function(error) {\r\n          console.error(error);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./User.vue?vue&type=template&id=d59e77d4\"\nimport script from \"./User.vue?vue&type=script&lang=js\"\nexport * from \"./User.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}